<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security System Demo - H·ªá th·ªëng B·∫£o m·∫≠t To√†n di·ªán</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .main-content {
            padding: 40px;
        }

        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .demo-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .demo-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
            border-color: #667eea;
        }

        .demo-card.running {
            border-color: #f39c12;
            background: linear-gradient(135deg, #fff9e6 0%, #ffffff 100%);
        }

        .demo-card.success {
            border-color: #27ae60;
            background: linear-gradient(135deg, #e8f5e8 0%, #ffffff 100%);
        }

        .demo-card.error {
            border-color: #e74c3c;
            background: linear-gradient(135deg, #fdeaea 0%, #ffffff 100%);
        }

        .demo-icon {
            font-size: 3em;
            margin-bottom: 15px;
            display: block;
        }

        .demo-title {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .demo-description {
            color: #7f8c8d;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .demo-status {
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            text-align: center;
            margin-bottom: 15px;
        }

        .status-ready {
            background: #ecf0f1;
            color: #34495e;
        }

        .status-running {
            background: #f39c12;
            color: white;
            animation: pulse 2s infinite;
        }

        .status-success {
            background: #27ae60;
            color: white;
        }

        .status-error {
            background: #e74c3c;
            color: white;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        .demo-button {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .demo-button:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .control-panel {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }

        .control-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .control-button {
            padding: 15px 30px;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 150px;
        }

        .control-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(44, 62, 80, 0.3);
        }

        .control-button.primary {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        }

        .control-button.primary:hover {
            box-shadow: 0 8px 20px rgba(231, 76, 60, 0.3);
        }

        .results-panel {
            background: #2c3e50;
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-top: 30px;
            font-family: 'Courier New', monospace;
            max-height: 400px;
            overflow-y: auto;
        }

        .results-panel h3 {
            margin-bottom: 15px;
            color: #ecf0f1;
        }

        .log-entry {
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .log-success {
            color: #2ecc71;
        }

        .log-error {
            color: #e74c3c;
        }

        .log-warning {
            color: #f39c12;
        }

        .log-info {
            color: #3498db;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #ecf0f1;
            border-radius: 4px;
            overflow: hidden;
            margin: 15px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.3s ease;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #7f8c8d;
            font-size: 0.9em;
        }

        .footer {
            text-align: center;
            padding: 30px;
            background: #34495e;
            color: white;
        }

        @media (max-width: 768px) {
            .demo-grid {
                grid-template-columns: 1fr;
            }
            
            .control-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .control-button {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîê Security System Demo</h1>
            <p>H·ªá th·ªëng B·∫£o m·∫≠t To√†n di·ªán - Comprehensive Security Framework</p>
        </div>

        <div class="main-content">
            <div class="control-panel">
                <h2>üöÄ ƒêi·ªÅu khi·ªÉn Demo</h2>
                <p>Ch·ªçn c√°c module b·∫£o m·∫≠t ƒë·ªÉ ki·ªÉm tra ho·∫∑c ch·∫°y to√†n b·ªô h·ªá th·ªëng</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressBar"></div>
                </div>
                <div class="control-buttons">
                    <button class="control-button primary" onclick="runFullDemo()">üéØ Ch·∫°y To√†n b·ªô Demo</button>
                    <button class="control-button" onclick="initializeSystem()">‚öôÔ∏è Kh·ªüi t·∫°o H·ªá th·ªëng</button>
                    <button class="control-button" onclick="clearResults()">üóëÔ∏è X√≥a K·∫øt qu·∫£</button>
                </div>
            </div>

            <div class="demo-grid">
                <div class="demo-card" id="auth-demo" onclick="runDemo('auth')">
                    <span class="demo-icon">üîë</span>
                    <div class="demo-title">X√°c th·ª±c Ng∆∞·ªùi d√πng</div>
                    <div class="demo-description">Ki·ªÉm tra h·ªá th·ªëng ƒëƒÉng k√Ω, ƒëƒÉng nh·∫≠p, JWT v√† OAuth2. Bao g·ªìm b·∫£o v·ªá ch·ªëng t·∫•n c√¥ng v√©t c·∫°n.</div>
                    <div class="demo-status status-ready" id="auth-status">S·∫µn s√†ng</div>
                    <button class="demo-button">Ch·∫°y Demo</button>
                </div>

                <div class="demo-card" id="encryption-demo" onclick="runDemo('encryption')">
                    <span class="demo-icon">üîí</span>
                    <div class="demo-title">M√£ h√≥a D·ªØ li·ªáu</div>
                    <div class="demo-description">Th·ª≠ nghi·ªám m√£ h√≥a/gi·∫£i m√£ d·ªØ li·ªáu nh·∫°y c·∫£m v·ªõi AES-256-GCM v√† qu·∫£n l√Ω kh√≥a an to√†n.</div>
                    <div class="demo-status status-ready" id="encryption-status">S·∫µn s√†ng</div>
                    <button class="demo-button">Ch·∫°y Demo</button>
                </div>

                <div class="demo-card" id="access-demo" onclick="runDemo('access')">
                    <span class="demo-icon">üõ°Ô∏è</span>
                    <div class="demo-title">Ki·ªÉm so√°t Truy c·∫≠p</div>
                    <div class="demo-description">Ki·ªÉm tra h·ªá th·ªëng ph√¢n quy·ªÅn d·ª±a tr√™n vai tr√≤ (RBAC) v√† ki·ªÉm so√°t truy c·∫≠p t√†i nguy√™n.</div>
                    <div class="demo-status status-ready" id="access-status">S·∫µn s√†ng</div>
                    <button class="demo-button">Ch·∫°y Demo</button>
                </div>

                <div class="demo-card" id="validation-demo" onclick="runDemo('validation')">
                    <span class="demo-icon">üõ°Ô∏è</span>
                    <div class="demo-title">X√°c th·ª±c ƒê·∫ßu v√†o</div>
                    <div class="demo-description">Th·ª≠ nghi·ªám ph√°t hi·ªán v√† ch·∫∑n c√°c cu·ªôc t·∫•n c√¥ng SQL Injection, XSS, Path Traversal.</div>
                    <div class="demo-status status-ready" id="validation-status">S·∫µn s√†ng</div>
                    <button class="demo-button">Ch·∫°y Demo</button>
                </div>

                <div class="demo-card" id="headers-demo" onclick="runDemo('headers')">
                    <span class="demo-icon">üîê</span>
                    <div class="demo-title">Header B·∫£o m·∫≠t</div>
                    <div class="demo-description">Ki·ªÉm tra c·∫•u h√¨nh HSTS, CSP, X-Frame-Options v√† c√°c header b·∫£o m·∫≠t kh√°c.</div>
                    <div class="demo-status status-ready" id="headers-status">S·∫µn s√†ng</div>
                    <button class="demo-button">Ch·∫°y Demo</button>
                </div>

                <div class="demo-card" id="monitoring-demo" onclick="runDemo('monitoring')">
                    <span class="demo-icon">üìä</span>
                    <div class="demo-title">Gi√°m s√°t B·∫£o m·∫≠t</div>
                    <div class="demo-description">Th·ª≠ nghi·ªám h·ªá th·ªëng ph√°t hi·ªán m·ªëi ƒëe d·ªça, ghi nh·∫≠t k√Ω v√† c·∫£nh b√°o b·∫£o m·∫≠t.</div>
                    <div class="demo-status status-ready" id="monitoring-status">S·∫µn s√†ng</div>
                    <button class="demo-button">Ch·∫°y Demo</button>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="testsRun">0</div>
                    <div class="stat-label">Tests ƒê√£ ch·∫°y</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="testsPass">0</div>
                    <div class="stat-label">Tests Th√†nh c√¥ng</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="securityScore">0%</div>
                    <div class="stat-label">ƒêi·ªÉm B·∫£o m·∫≠t</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="riskLevel">-</div>
                    <div class="stat-label">M·ª©c R·ªßi ro</div>
                </div>
            </div>

            <div class="results-panel" id="resultsPanel" style="display: none;">
                <h3>üìã K·∫øt qu·∫£ Demo</h3>
                <div id="logOutput"></div>
            </div>
        </div>

        <div class="footer">
            <p>üîê Security System Demo - Ph√°t tri·ªÉn b·ªüi Serein | ¬© 2024</p>
        </div>
    </div>

    <script>
        // Demo state management
        let demoState = {
            initialized: false,
            running: false,
            results: [],
            stats: {
                testsRun: 0,
                testsPass: 0,
                securityScore: 0,
                riskLevel: 'Unknown'
            }
        };

        // Simulate security system (since we can't run Node.js modules in browser)
        class MockSecuritySystem {
            constructor() {
                this.initialized = false;
            }

            async initialize() {
                await this.delay(2000);
                this.initialized = true;
                return true;
            }

            async runAuthDemo() {
                await this.delay(3000);
                return {
                    success: true,
                    details: {
                        registration: true,
                        login: true,
                        bruteForceProtection: true,
                        jwtGeneration: true
                    }
                };
            }

            async runEncryptionDemo() {
                await this.delay(2500);
                return {
                    success: true,
                    details: {
                        encryption: true,
                        decryption: true,
                        keyManagement: true,
                        wrongPasswordRejection: true
                    }
                };
            }

            async runAccessDemo() {
                await this.delay(2000);
                return {
                    success: true,
                    details: {
                        roleBasedAccess: true,
                        permissionChecking: true,
                        accessDenial: true
                    }
                };
            }

            async runValidationDemo() {
                await this.delay(3500);
                return {
                    success: true,
                    details: {
                        sqlInjectionDetection: true,
                        xssProtection: true,
                        pathTraversalBlocking: true,
                        safeInputAcceptance: true
                    }
                };
            }

            async runHeadersDemo() {
                await this.delay(1500);
                return {
                    success: true,
                    details: {
                        hstsHeader: true,
                        cspHeader: true,
                        frameOptions: true,
                        contentTypeOptions: true
                    }
                };
            }

            async runMonitoringDemo() {
                await this.delay(2800);
                return {
                    success: true,
                    details: {
                        eventLogging: true,
                        threatDetection: true,
                        anomalyDetection: true,
                        alerting: true
                    }
                };
            }

            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
        }

        const mockSecurity = new MockSecuritySystem();

        // UI Helper functions
        function updateDemoStatus(demoId, status, message = '') {
            const statusElement = document.getElementById(`${demoId}-status`);
            const cardElement = document.getElementById(`${demoId}-demo`);
            
            statusElement.className = `demo-status status-${status}`;
            cardElement.className = `demo-card ${status}`;
            
            const statusText = {
                'ready': 'S·∫µn s√†ng',
                'running': 'ƒêang ch·∫°y...',
                'success': 'Th√†nh c√¥ng ‚úÖ',
                'error': 'L·ªói ‚ùå'
            };
            
            statusElement.textContent = message || statusText[status];
        }

        function logMessage(message, type = 'info') {
            const logOutput = document.getElementById('logOutput');
            const resultsPanel = document.getElementById('resultsPanel');
            
            resultsPanel.style.display = 'block';
            
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry log-${type}`;
            logEntry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            
            logOutput.appendChild(logEntry);
            logOutput.scrollTop = logOutput.scrollHeight;
        }

        function updateProgress(percentage) {
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = `${percentage}%`;
        }

        function updateStats() {
            document.getElementById('testsRun').textContent = demoState.stats.testsRun;
            document.getElementById('testsPass').textContent = demoState.stats.testsPass;
            document.getElementById('securityScore').textContent = `${demoState.stats.securityScore}%`;
            document.getElementById('riskLevel').textContent = demoState.stats.riskLevel;
        }

        // Demo functions
        async function initializeSystem() {
            if (demoState.running) return;
            
            demoState.running = true;
            logMessage('üîÑ ƒêang kh·ªüi t·∫°o h·ªá th·ªëng b·∫£o m·∫≠t...', 'info');
            
            try {
                const success = await mockSecurity.initialize();
                if (success) {
                    demoState.initialized = true;
                    logMessage('‚úÖ H·ªá th·ªëng b·∫£o m·∫≠t ƒë√£ ƒë∆∞·ª£c kh·ªüi t·∫°o th√†nh c√¥ng', 'success');
                } else {
                    logMessage('‚ùå Kh·ªüi t·∫°o h·ªá th·ªëng th·∫•t b·∫°i', 'error');
                }
            } catch (error) {
                logMessage(`‚ùå L·ªói kh·ªüi t·∫°o: ${error.message}`, 'error');
            }
            
            demoState.running = false;
        }

        async function runDemo(demoType) {
            if (demoState.running) return;
            
            if (!demoState.initialized) {
                logMessage('‚ö†Ô∏è H·ªá th·ªëng ch∆∞a ƒë∆∞·ª£c kh·ªüi t·∫°o. ƒêang kh·ªüi t·∫°o...', 'warning');
                await initializeSystem();
            }
            
            demoState.running = true;
            updateDemoStatus(demoType, 'running');
            
            try {
                let result;
                
                switch (demoType) {
                    case 'auth':
                        logMessage('üîë ƒêang ch·∫°y demo x√°c th·ª±c ng∆∞·ªùi d√πng...', 'info');
                        result = await mockSecurity.runAuthDemo();
                        break;
                    case 'encryption':
                        logMessage('üîí ƒêang ch·∫°y demo m√£ h√≥a d·ªØ li·ªáu...', 'info');
                        result = await mockSecurity.runEncryptionDemo();
                        break;
                    case 'access':
                        logMessage('üõ°Ô∏è ƒêang ch·∫°y demo ki·ªÉm so√°t truy c·∫≠p...', 'info');
                        result = await mockSecurity.runAccessDemo();
                        break;
                    case 'validation':
                        logMessage('üõ°Ô∏è ƒêang ch·∫°y demo x√°c th·ª±c ƒë·∫ßu v√†o...', 'info');
                        result = await mockSecurity.runValidationDemo();
                        break;
                    case 'headers':
                        logMessage('üîê ƒêang ch·∫°y demo header b·∫£o m·∫≠t...', 'info');
                        result = await mockSecurity.runHeadersDemo();
                        break;
                    case 'monitoring':
                        logMessage('üìä ƒêang ch·∫°y demo gi√°m s√°t b·∫£o m·∫≠t...', 'info');
                        result = await mockSecurity.runMonitoringDemo();
                        break;
                }
                
                if (result.success) {
                    updateDemoStatus(demoType, 'success');
                    logMessage(`‚úÖ Demo ${demoType} ho√†n th√†nh th√†nh c√¥ng`, 'success');
                    demoState.stats.testsPass++;
                } else {
                    updateDemoStatus(demoType, 'error');
                    logMessage(`‚ùå Demo ${demoType} th·∫•t b·∫°i`, 'error');
                }
                
                demoState.stats.testsRun++;
                demoState.results.push({ demo: demoType, result });
                
            } catch (error) {
                updateDemoStatus(demoType, 'error');
                logMessage(`‚ùå L·ªói trong demo ${demoType}: ${error.message}`, 'error');
            }
            
            updateStats();
            demoState.running = false;
        }

        async function runFullDemo() {
            if (demoState.running) return;
            
            logMessage('üöÄ B·∫Øt ƒë·∫ßu ch·∫°y to√†n b·ªô demo h·ªá th·ªëng b·∫£o m·∫≠t', 'info');
            
            const demos = ['auth', 'encryption', 'access', 'validation', 'headers', 'monitoring'];
            const totalDemos = demos.length;
            
            for (let i = 0; i < demos.length; i++) {
                await runDemo(demos[i]);
                updateProgress(((i + 1) / totalDemos) * 100);
                await new Promise(resolve => setTimeout(resolve, 500)); // Small delay between demos
            }
            
            // Calculate final security score
            const successRate = (demoState.stats.testsPass / demoState.stats.testsRun) * 100;
            demoState.stats.securityScore = Math.round(successRate);
            
            if (successRate >= 90) {
                demoState.stats.riskLevel = 'Th·∫•p';
                logMessage('üü¢ ƒê√°nh gi√°: H·ªÜ TH·ªêNG B·∫¢O M·∫¨T XU·∫§T S·∫ÆC', 'success');
            } else if (successRate >= 75) {
                demoState.stats.riskLevel = 'Trung b√¨nh';
                logMessage('üü° ƒê√°nh gi√°: H·ªÜ TH·ªêNG B·∫¢O M·∫¨T T·ªêT', 'warning');
            } else {
                demoState.stats.riskLevel = 'Cao';
                logMessage('üî¥ ƒê√°nh gi√°: H·ªÜ TH·ªêNG C·∫¶N C·∫¢I THI·ªÜN', 'error');
            }
            
            updateStats();
            logMessage('üéâ Ho√†n th√†nh to√†n b·ªô demo h·ªá th·ªëng b·∫£o m·∫≠t!', 'success');
        }

        function clearResults() {
            const logOutput = document.getElementById('logOutput');
            const resultsPanel = document.getElementById('resultsPanel');
            
            logOutput.innerHTML = '';
            resultsPanel.style.display = 'none';
            
            // Reset all demo statuses
            const demos = ['auth', 'encryption', 'access', 'validation', 'headers', 'monitoring'];
            demos.forEach(demo => {
                updateDemoStatus(demo, 'ready');
            });
            
            // Reset stats
            demoState.stats = {
                testsRun: 0,
                testsPass: 0,
                securityScore: 0,
                riskLevel: 'Unknown'
            };
            
            updateStats();
            updateProgress(0);
            
            demoState.results = [];
            logMessage('üóëÔ∏è ƒê√£ x√≥a t·∫•t c·∫£ k·∫øt qu·∫£ demo', 'info');
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
            logMessage('üîê Ch√†o m·ª´ng ƒë·∫øn v·ªõi Security System Demo!', 'info');
            logMessage('üí° H√£y b·∫Øt ƒë·∫ßu b·∫±ng c√°ch kh·ªüi t·∫°o h·ªá th·ªëng ho·∫∑c ch·∫°y t·ª´ng demo ri√™ng l·∫ª', 'info');
        });
    </script>
</body>
</html>